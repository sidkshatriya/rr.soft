source `dirname $0`/util.sh
record simple$bitness
_RR_TRACE_DIR="$workdir" $RR_EXE $GLOBAL_OPTIONS traceinfo > traceinfo.txt || failed "traceinfo failed"
jq < traceinfo.txt > /dev/null || failed "invalid JSON"
grep -q '"uuid":' < traceinfo.txt || failed "missing uuid"
grep -q '"bindToCpu":' < traceinfo.txt || failed "missing bindToCpu"
grep -q '"cpuidFaulting":' < traceinfo.txt || failed "missing cpuidFaulting"
grep -q '"ticksSemantics":' < traceinfo.txt || failed "missing ticksSemantics"
grep -q '"chaosMode":false' < traceinfo.txt || failed "missing chaosMode"
grep -q '"cpuImproperlyConfigured":' < traceinfo.txt || failed "missing cpuImproperlyConfigured"
grep -q '"maxVirtualAddressSize":' < traceinfo.txt || failed "missing maxVirtualAddressSize"
grep -q '"uname":' < traceinfo.txt || failed "missing uname"
grep -q '"sysname":' < traceinfo.txt || failed "missing sysname"
grep -q '"nodename":' < traceinfo.txt || failed "missing nodename"
grep -q '"release":' < traceinfo.txt || failed "missing release"
grep -q '"machine":' < traceinfo.txt || failed "missing machine"
grep -q '"environ":' < traceinfo.txt || failed "missing environ"
grep -q '"HOME=/' < traceinfo.txt || failed "missing HOME"
grep -q '"program":' < traceinfo.txt || failed "missing program"
